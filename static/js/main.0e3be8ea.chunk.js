(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(22),o=n.n(r),i=(n(29),n(13)),s=n(8),l=(n(30),n(4)),u=n(5),h=n(7),b=n(6),j=n(1),p=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={imageName:""},e.handleInputeChange=function(t){e.setState({imageName:t.target.value})},e.onSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.imageName),t.target.reset()},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:this.onSubmit,children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",onChange:this.handleInputeChange,autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),n}(a.Component),m=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(j.jsx)("li",{className:"ImageGalleryItem",children:Object(j.jsx)("img",{onClick:this.props.openlargeimage,src:this.props.src,alt:this.props.alt,"data-large":this.props.large,className:"ImageGalleryItem-image"})})}}]),n}(a.Component),d=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(j.jsx)("ul",{className:"ImageGallery",children:this.props.pics.map((function(t){return Object(j.jsx)(m,{openlargeimage:e.props.openlargeimage,src:t.webformatURL,alt:t.webformatURL,large:t.largeImageURL},t.id)}))})}}]),n}(a.Component),O=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(j.jsx)("button",{className:"Button",type:"button",onClick:this.props.onClick,children:"Load More"})}}]),n}(a.Component),f=n(23),g=n.n(f),v=n(24),y=n.n(v),w=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={},e.handleKeyDown=function(t){"Escape"===t.code&&e.props.toggleModal()},e.handleClosing=function(t){var n=document.querySelector(".Overlay");t.target===n&&e.props.toggleModal()},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("click",this.handleClosing)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("click",this.handleClosing)}},{key:"render",value:function(){return Object(j.jsx)("div",{className:"Overlay",children:Object(j.jsx)("div",{className:"Modal",children:Object(j.jsx)("img",{src:this.props.src,alt:""})})})}}]),n}(a.Component);function x(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(s.a)(r,2),l=o[0],u=o[1],h=Object(a.useState)(!1),b=Object(s.a)(h,2),m=b[0],f=b[1],v=Object(a.useState)(""),x=Object(s.a)(v,2),S=x[0],k=x[1],C=Object(a.useState)(!1),N=Object(s.a)(C,2),I=N[0],E=N[1],F=Object(a.useState)(1),L=Object(s.a)(F,2),M=L[0],A=L[1],D="https://pixabay.com/api/?q=".concat(n,"&page=").concat(M,"&key=").concat("23098764-6c28342abea29650d4f55356c","&image_type=photo&orientation=horizontal&per_page=12");Object(a.useEffect)((function(){null!==n&&(E(!0),setTimeout((function(){g.a.get(D).then((function(e){return e.data.hits})).then((function(e){e.length?u((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})):alert("".concat(n," is not found"))})).catch((function(e){return alert(e)})).finally((function(){return E(!1)}))}),500))}),[M,n,D]),Object(a.useEffect)((function(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}),[l]);return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(p,{onSubmit:function(e){c(null),u([]),f(!1),k(""),E(!1),c(e)}}),Object(j.jsx)(d,{pics:l,openlargeimage:function(e){return t=e.target.dataset.large,f(!m),k(t);var t}}),I&&Object(j.jsx)(y.a,{className:"spin",type:"Bars",color:"#00BFFF",height:80,width:80}),l.length>0&&Object(j.jsx)(O,{onClick:function(){A((function(e){return e+1}))}}),m&&Object(j.jsx)(w,{toggleModal:function(){f((function(e){return!e}))},src:S})]})}o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.0e3be8ea.chunk.js.map